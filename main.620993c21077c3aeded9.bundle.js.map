{"version":3,"file":"main.620993c21077c3aeded9.bundle.js","sources":["webpack:///./.storybook/addons/props/index.js"],"sourcesContent":["import addons, { makeDecorator } from '@storybook/addons';\nimport kebabCase from 'lodash/kebabCase';\n\nfunction stripHOCs(fullName) {\n  if (typeof fullName !== 'string') {\n    return fullName;\n  }\n\n  let innerName = fullName;\n\n  while (/\\([^()]*\\)/g.test(innerName)) {\n    let HOC = innerName;\n    let previousHOC;\n\n    do {\n      previousHOC = HOC;\n      HOC = previousHOC.replace(/\\([^()]*\\)/g, '');\n    } while (previousHOC !== HOC);\n\n    innerName = innerName.replace(RegExp(`^${HOC}\\\\(|\\\\)$`, 'g'), '');\n  }\n\n  return innerName;\n}\n\nexport const withProps = makeDecorator({\n  name: 'withProps',\n  parameterName: 'props',\n  wrapper: (getStory, context) => {\n    const components = {};\n\n    context.parameters.inspectComponents.forEach(component => {\n      components[stripHOCs(component.displayName || component.name)] = component;\n    });\n\n    // We need to cast globals to JSON, otherwise the data is lost\n    addons.getChannel().emit('SET_PROPS_DATA', {\n      components,\n      componentChangelogs: JSON.stringify(COMPONENT_CHANGELOGS),\n      componentMetadata: JSON.stringify(STORYBOOK_REACT_CLASSES),\n      section: kebabCase(context.kind.split('/')[0]),\n      storyPath: context.parameters.fileName,\n    });\n\n    return getStory(context);\n  },\n});\n"],"mappings":"AAAA","sourceRoot":""}